<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8" />
	<title>Polyform</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<script>
		// By default the ServiceWorker's scope will be "server/"
		navigator.serviceWorker
			.register('sw.js', { scope: "/polyform/" })
			.then(registration => {
				console.log("register", registration)
				document.getElementById("status-display").innerText = "activated"
				const sw = registration.active ?? registration.installing ?? registration.waiting
				// setInterval(() => sw.postMessage(null), 15000)
				// window.location.href = window.location.href + "app/"
				window.location.reload()
			})
	</script>
</head>

<body>
	<h1>Polyform</h1>
	<b id="status-display">Downloading...</b>
</body>

</html>